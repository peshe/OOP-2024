# Структури. Разположение в паметта. Битови полета. Разделна компилация.

> Колиствените натрупвания водят до качествени изменения
>
> &mdash; Георг Вилхелм Фридрих Хегел


## Въведение

В началото нещата, които говорим най-вероятно ще са неясни, моят съвет е все пак да ги прочетеш, ще започнат да правят смисъл в ретроспекция.

Започваме с ООП-то, разликите с това, което познаваме досега (УП) са много и трудни за обяснение и разбиране преди да натрупаме малко опит. За да не говорим неразбираема теория ще започнем със създаване на практическа идея за различните концепции, след като натрупаме знания, постепенно ще ги обединим в едно общо цялостно разбиране за материала.

Обектното-ориентирано програмине ни дава възможността да решаваме реални проблеми. Задачите които решаваме ще стават по-големи като условия, обем код и ще започват повече и повече да приличат на реални проблеми, които срещат хората.

Едно от най-големите предизвикателства е в промяната в мисленето, което трябва да направим. Досега в нашия код имаше типове като `int`, `double`, `bool`, `char`, `int[]` и т.н.

Напред освен тези типове ще имаме и типове, които ние дефинираме спрямо проблемите, които се опитваме да решим(моделираме). Една от задачите ни ще е да моделираме истинския свят възможно най-близко. Например, ако правим система свързана с обучение на студенти, може да имаме типове като `Person`, `Student`, `Course`, `Teacher`, `Address`, `Exam`, `Homework`, `Project` и т.н.

Въпросът, който изниква веднага е "Откъде идват тези типове?". Отговорът е, че **ние ги създаваме**.

### Типове данни, дадени от езика

Tиповете данни, дадени от езика, са ни познати. Наричаме ги **primitive data types** и сме създавали не малко променливи с тях:

<small>Пример 1: Примитивни типове данни</small>

```c++
#include <iostream>

int main() {
    int number = 42; // <-- int
    int numbers[100] = {0}; // <-- array
    char initial = 'A'; // <-- char

    return 0;
}
```

### Типове данни, създадени от нас

Има и друга "категория" типове данни, те са типовете данни, които ние можем да денифинираме. Вече сме виждали енумерациите(`enum`) които спадат в тази категория.

<small>Пример 2: Енумерация - дефиниране, инстанциране и сравнение</small>

```c++
#include <iostream>

enum DayOfWeek {
	Monday = 0,
	Tuesday = 1,
	Wednesday = 2,
	Thursday = 3,
	Friday = 4,
	Saturday = 5,
	Sunday = 6,

};

int main() {
	DayOfWeek today = Monday; // <-- DayOfWeek, defined by us.

	if (today == Saturday || today == Sunday) {
		std::cout << "It's the weekend!";
	}
	else {
		std::cout << "It's a weekday.";
	}

	return 0;
}

```

<br/>

Структурите (`struct`) които ще разглеждаме по-долу също спадат в тази категория на типове, които ние дефинираме.

---
## Структури

Нека разгледаме един пример за структура, обясним какво сме направили и след това видим кога би било полезно да използваме структури.

<small>Пример 3: Структура - дефиниране, инстанциране и достъп до **полета(fields)** </small>

```c++
#include <iostream>

struct Point {
    double x;
    double y;
};

int main() {
    Point point = {3.5, 2.5};

    std::cout << "Point coordinates: (" << point.x << ", " << point.y << ")" << std::endl;
    // Prints "Point coordinates: (3.5, 2.5)" to the console.
    return 0;
}
```

Ако искаме да направим същото без структура, то би изглеждало така:

<small>Пример 4: Как би изглеждал "Пример 3" с текущите ни знания по УП </small>
```c++
#include <iostream>

int main() {
    double x = 3.5;
    double y = 2.5;

    std::cout << "Point coordinates: (" << x << ", " << y << ")" << std::endl;

    return 0;
}

```

На пръв поглед да не използваме структура изглежда по-просто, което в този случай е напълно вярно. 

След като видим отделните концепции свързани със структури, ще разгледаме по-сложна задача, която показва много по-ясно позитивите.




todo: nail & hammer metaphor for oop forward and the modelling part -> read problem statement -> model the problem through user defined types - enum + struct, etc. (no dynamic memory, that's for classes)

todo: modelling part -> bad naming of Point -> Point2D, Point3D

### Въпроси

- Какво са структурите?
- С какво те са полезни?
- Какво е тяхното приложение в практиката?
- въпроси за добри практики

- ** Въпроси, чиито отговори не са в текста по-горе **
- \*\* Задача със структура в структурата

TODO: spell check.
TODO: Добри практики
